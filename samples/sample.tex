\documentclass[uplatex,a4j]{jsarticle}
\usepackage[dvipdfmx]{graphicx}
\usepackage{amsmath,ascmac}
\usepackage{bm}
\usepackage{algorithm,algorithmic}
\usepackage{listings}
\usepackage{subcaption}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage[most]{tcolorbox}
\lstset{%
  language={C},
  basicstyle={\small},%
  identifierstyle={\small},%
  commentstyle={\small\itshape},%
  keywordstyle={\small\bfseries},%
  ndkeywordstyle={\small},%
  stringstyle={\small\ttfamily},
  frame={tb},
  breaklines=true,
  columns=[l]{fullflexible},%
  numbers=left,%
  xrightmargin=0zw,%
  xleftmargin=3zw,%
  numberstyle={\scriptsize},%
  stepnumber=1,
  numbersep=1zw,%
  lineskip=-0.5ex%
}
\renewcommand{\lstlistingname}{コード}
\renewcommand{\lstlistlistingname}{コード目次}
\renewcommand{\thesubsection}{(\arabic{subsection})}
\renewcommand{\thesection}{\arabic{section}}

\newtcolorbox{myroundedbox}[1]{
  colback=white,           % 背景色
  colframe=gray!80,       % 枠の色
  arc=3mm,                 % 角の丸み
  boxrule=0.5pt,           % 枠線の太さ
  title=#1,                % タイトルの設定
  fonttitle=\bfseries,     % タイトルのフォント
  coltitle=black,          % タイトルの文字色
  colbacktitle=gray!20,    % タイトル部分の背景色
  enhanced,
  attach boxed title to top left={xshift=5mm, yshift=-2mm}, % タイトルを少しずらす
  boxed title style={arc=1mm, colframe=gray!80}
}

%
% 以後をレポート課題ごとに書き換える。
%

\begin{document}
\title{サンプル\LaTeX}
\author{名前（学籍番号 xxxx）}
\date{2025年 x月 y日}
\maketitle

\section{序}
\label{sec:intro}

このサンプル\LaTeX ファイルでは、\ref{sec:eqn}章では数式につい
て、\ref{sec:table}章では表について、\ref{sec:figure}章では図につい
て、\ref{sec:code}章ではソースコードの出力の仕方について、サンプル例を示した。
また、レポートの書き方の勉強には、文献\cite{Kinoshita}の一読を勧める。

% 式
\section{数式とは？}
\label{sec:eqn}

20世紀の物理学の有名な公式\eqref{eq:ein}と\eqref{eq:sch}について考える。

% &の位置でそろえる
\begin{align}
  \label{eq:ein}
   & E = mc^2                                                               \\
  \label{eq:sch}
   & i\hbar\frac{\partial \vert\Psi\rangle}{\partial t} = H\vert\Psi\rangle
\end{align}

% 表
\section{表とは？}
\label{sec:table}

表\ref{tab:num}に集計結果を示す。

\begin{table}[ht]
  \centering
  \caption{性別集計}
  \label{tab:num}
  \begin{tabular}[ht]{|c|c|}
    \hline
    男性 & 10人 \\
    \hline
    女性 & 10人 \\
    \hline
  \end{tabular}
\end{table}

% 図
\section{図とは？}
\label{sec:figure}

図\ref{fig:tn}はどおーだよ。

\begin{figure}[ht]
  \centering
  \includegraphics[width=0.8\textwidth]{clodsire.jpg}
  \caption{どおー}
  \label{fig:tn}
\end{figure}

\begin{figure}[htbp]
  \centering

  \begin{subfigure}{0.45\textwidth}
    \centering
    \includegraphics[width=\linewidth]{question6/q6_relative_error.png}
    \caption{全体}
    \label{fig:q6_re_whole}
  \end{subfigure}
  \hfill
  \begin{subfigure}{0.45\textwidth}
    \centering
    \includegraphics[width=\linewidth]{question6/q6_relative_error_zoom.png}
    \caption{中央値付近}
    \label{fig:q6_re_zoom}
  \end{subfigure}
  
  \caption{相対誤差の最大値}
  \label{fig:q6_re}
\end{figure}

% コード
\section{コードとは？}
\label{sec:code}

コード\ref{code:sample}は有名なサンプルコードです。

\lstinputlisting[caption=ハローワールド,label=code:sample]{sample.go}

\section{まとめ}
読みやすいレポートを書きましょう。

\begin{thebibliography}{99}
  \bibitem{Kinoshita}
  木下 是雄, 中公新書「理科系の作文技術」, 1981.
\end{thebibliography}
\end{document}
%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
